<div>
  <div
    class="head-dashboard px-4 d-flex align-items-center justify-content-between"
  >
    <div class="logo-container d-flex align-items-center">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="28"
        height="28"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"></path>
        <path d="M3 6h18"></path>
        <path d="M16 10a4 4 0 0 1-8 0"></path>
      </svg>
      <p class="p-custom-dash ms-2">ShopDash</p>
    </div>

    <div class="search-container d-none d-md-flex">
      <input
        type="text"
        class="form-control search-input"
        placeholder="Search..."
      />
      <svg
        class="search-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="18"
        height="18"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <circle cx="11" cy="11" r="8"></circle>
        <line x1="16.5" y1="16.5" x2="20" y2="20"></line>
      </svg>
    </div>

    <div class="d-flex align-items-center h-100">
      <div class="d-flex align-items-center justify-content-between w-100 p-3">
        <div class="logo-container d-flex align-items-center">
          <!-- Icono SVG -->
          <svg class="img-head-dash" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"></path>
            <path d="M3 6h18"></path>
            <path d="M16 10a4 4 0 0 1-8 0"></path>
          </svg>

          <p class=" fs-5 text-dark p-custom-dash">ShopDash</p>
        </div>

        <div class="search-container d-flex align-items-center">
          <input type="text" class="form-control search-input" placeholder="Search..." />
          <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="11" cy="11" r="8"></circle>
            <line x1="16.5" y1="16.5" x2="20" y2="20"></line>
          </svg>
        </div>

        <div class="user-info d-flex align-items-center">



       <app-user-nav [usuario]="usuario"></app-user-nav>




        </div>
      </div>
    </div>
  </div>

  <div class="main-dashboard">
    <div class="sidebar">
      <ul>
        <li>
          <button
            class="custom-btn-sidebar"
            [class.active]="currentView === 'start'"
            (click)="setView('start')"
          >
            <i class="bi bi-house-door"></i> <span>Inicio</span>
          </button>
        </li>
        <li>
          <button
            class="custom-btn-sidebar"
            [class.active]="currentView === 'orders'"
            (click)="setView('orders')"
          >
            <i class="bi bi-cart"></i> <span>Ordenes</span>
          </button>
        </li>
        <li>
          <button
            class="custom-btn-sidebar"
            [class.active]="currentView === 'products'"
            (click)="setView('products')"
          >
            <i class="bi bi-box-seam"></i> <span>Productos</span>
          </button>
        </li>
        <li>
          <button
            class="custom-btn-sidebar"
            [class.active]="currentView === 'customers'"
            (click)="setView('customers')"
          >
            <i class="bi bi-people"></i> <span>Clientes</span>
          </button>
        </li>
        <li>
          <button
            class="custom-btn-sidebar"
            [class.active]="currentView === 'payments'"
            (click)="setView('payments')"
          >
            <i class="bi bi-credit-card"></i> <span>Pagos</span>
          </button>
        </li>
        <li>
          <button
            class="custom-btn-sidebar"
            [class.active]="currentView === 'analysis'"
            (click)="setView('analysis')"
          >
            <i class="bi bi-bar-chart"></i> <span>Analisis</span>
          </button>
        </li>
      </ul>
    </div>

    <div class="main-content">
      <div class="d-flex justify-content-between">
        <h2 class="title-dashboard">Dashboard</h2>
        <div class="flex items-center gap-2 m-3">
          <button class="custom-btn-dowload" (click)="downloadReport()">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="m-2">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4">
            </path>
            <polyline points="7 10 12 15 17 10"></polyline>
            <line x1="12" x2="12" y1="15" y2="3">
            </line></svg>Download</button>
            <button class="custom-btn-cal">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="m-2">
              <path d="M8 2v4"></path><path d="M16 2v4">
            </path><rect width="18" height="18" x="3" y="4" rx="2"></rect>
              <path d="M3 10h18">
            </path></svg>{{ today | date:'MMM d, yyyy' }}</button>
          </div>
      </div>

      <div class="mb-4">
        <ul class="nav nav-tabs border-bottom-0 gap-2">
          <li class="nav-item">
            <button
              class="btn-pes-vista"
              [class.active]="currentDetail === 'view'"
              (click)="setDetail('view')"
            >
              Vista
            </button>
          </li>
          <li class="nav-item">
            <button
              class="btn-pes-ana"
              [class.active]="currentDetail === 'analysis'"
              (click)="setDetail('analysis')"
            >
              Analisis
            </button>
          </li>
          <li class="nav-item">
            <button
              class="btn-pes-rep"
              [class.active]="currentDetail === 'reports'"
              (click)="setDetail('reports')"
            >
              Reportes
            </button>
          </li>
        </ul>
      </div>

      <div>
        <app-start-dash-board *ngIf="currentView === 'start' && currentDetail === 'view'" [startData]="startData" [BestCustomers]="BestCustomers" [SalesMonthIn]="SalesMonthIn" [TopProducts]="TopProducts"></app-start-dash-board>
        <app-time-chart *ngIf="currentView === 'start' && currentDetail === 'analysis'" [timelineData]="timelineData" [tittle]="'Sales'" [detail]="'Our Sales'"></app-time-chart>
        <app-time-chart *ngIf="currentView === 'orders' && currentDetail === 'view'" [timelineData]="timelineData2" [tittle]="'Orders'" [detail]="'what they have asked us'"></app-time-chart>
        <app-bar-lateral-chart *ngIf="currentView === 'products' && currentDetail === 'view'" [Data]="productData" [tittle]="'Products'" [detail]="'Best-selling products'" ></app-bar-lateral-chart>
        <app-bar-lateral-chart *ngIf="currentView === 'customers' && currentDetail === 'view'" [Data]="clienteData" [tittle]="'Customers'" [detail]="'They always prefer us'"></app-bar-lateral-chart>
        <app-bar-lateral-chart *ngIf="currentView === 'payments' && currentDetail === 'view'" [Data]="payData" [tittle]="'Payments'" [detail]="'Pay methods'"></app-bar-lateral-chart>
        <div *ngIf="currentView === 'analysis' && currentDetail === 'view'">
  <app-bar-lateral-chart [Data]="analysisData" [tittle]="'Analysis'" [detail]="'About our business'"></app-bar-lateral-chart>
  
  <app-pie-chart [Data]="dataPieAnalysis" [tittle]="'Average Customer Gender Distribution'" [detail]="'About our Users'"></app-pie-chart>
  
  <app-bar-lateral-chart [Data]="categoryData" [tittle]="'Sales by Category'" [detail]="'Total sales per product category'"></app-bar-lateral-chart>
  
  <app-pie-chart [Data]="typeUserPieData" [tittle]="'User Type Distribution'" [detail]="'Sales by user type'"></app-pie-chart>
  
  <app-bar-lateral-chart [Data]="usersPerTypeData" [tittle]="'Users by Type'" [detail]="'Total users per type'"></app-bar-lateral-chart>
</div>
      </div>
    </div>
  </div>
</div>
