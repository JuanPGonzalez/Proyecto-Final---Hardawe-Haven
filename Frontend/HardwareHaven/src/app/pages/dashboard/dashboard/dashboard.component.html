<div>
  <div
    class="head-dashboard px-4 d-flex align-items-center justify-content-between"
  >
    <div class="logo-container d-flex align-items-center">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="28"
        height="28"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"></path>
        <path d="M3 6h18"></path>
        <path d="M16 10a4 4 0 0 1-8 0"></path>
      </svg>
      <p class="p-custom-dash ms-2">ShopDash</p>
    </div>

    <div class="search-container d-none d-md-flex">
      <input
        type="text"
        class="form-control search-input"
        placeholder="Search..."
      />
      <svg
        class="search-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="18"
        height="18"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <circle cx="11" cy="11" r="8"></circle>
        <line x1="16.5" y1="16.5" x2="20" y2="20"></line>
      </svg>
    </div>

    <div class="user-info d-flex align-items-center gap-3">
      <button class="volver-btn" (click)="gotoHome()">Volver</button>
      <app-user-nav [usuario]="usuario"></app-user-nav>
    </div>
  </div>

  <div class="main-dashboard">
    <div class="sidebar">
      <ul>
        <li>
          <button
            class="custom-btn-sidebar"
            [class.active]="currentView === 'start'"
            (click)="setView('start')"
          >
            <i class="bi bi-house-door"></i> <span>Inicio</span>
          </button>
        </li>
        <li>
          <button
            class="custom-btn-sidebar"
            [class.active]="currentView === 'orders'"
            (click)="setView('orders')"
          >
            <i class="bi bi-cart"></i> <span>Ordenes</span>
          </button>
        </li>
        <li>
          <button
            class="custom-btn-sidebar"
            [class.active]="currentView === 'products'"
            (click)="setView('products')"
          >
            <i class="bi bi-box-seam"></i> <span>Productos</span>
          </button>
        </li>
        <li>
          <button
            class="custom-btn-sidebar"
            [class.active]="currentView === 'customers'"
            (click)="setView('customers')"
          >
            <i class="bi bi-people"></i> <span>Clientes</span>
          </button>
        </li>
        <li>
          <button
            class="custom-btn-sidebar"
            [class.active]="currentView === 'payments'"
            (click)="setView('payments')"
          >
            <i class="bi bi-credit-card"></i> <span>Pagos</span>
          </button>
        </li>
        <li>
          <button
            class="custom-btn-sidebar"
            [class.active]="currentView === 'analysis'"
            (click)="setView('analysis')"
          >
            <i class="bi bi-bar-chart"></i> <span>Analisis</span>
          </button>
        </li>
      </ul>
    </div>

    <div class="main-content">
      <div
        class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4"
      >
        <h2 class="title-dashboard">Panel de Control</h2>

        <div class="d-flex gap-3 mt-3 mt-md-0">
          <button class="custom-btn-dowload">
            <i class="bi bi-download"></i> Download
          </button>
          <button class="custom-btn-cal">
            <i class="bi bi-calendar"></i> {{ today | date : "MMM d, yyyy" }}
          </button>
        </div>
      </div>

      <div class="mb-4">
        <ul class="nav nav-tabs border-bottom-0 gap-2">
          <li class="nav-item">
            <button
              class="btn-pes-vista"
              [class.active]="currentDetail === 'view'"
              (click)="setDetail('view')"
            >
              Vista
            </button>
          </li>
          <li class="nav-item">
            <button
              class="btn-pes-ana"
              [class.active]="currentDetail === 'analysis'"
              (click)="setDetail('analysis')"
            >
              Analisis
            </button>
          </li>
          <li class="nav-item">
            <button
              class="btn-pes-rep"
              [class.active]="currentDetail === 'reports'"
              (click)="setDetail('reports')"
            >
              Reportes
            </button>
          </li>
        </ul>
      </div>

      <div class="glass-card p-4 h-100" style="min-height: 400px">
        <app-start-dash-board
          *ngIf="currentView === 'start' && currentDetail === 'view'"
        ></app-start-dash-board>
        <app-time-chart
          *ngIf="currentView === 'start' && currentDetail === 'analysis'"
          [timelineData]="timelineData"
          [tittle]="'Sales'"
          [detail]="'Our Sales'"
        ></app-time-chart>
        <app-time-chart
          *ngIf="currentView === 'orders' && currentDetail === 'view'"
          [timelineData]="timelineData2"
          [tittle]="'Orders'"
          [detail]="'what they have asked us'"
        ></app-time-chart>
        <app-bar-lateral-chart
          *ngIf="currentView === 'products' && currentDetail === 'view'"
          [Data]="productData"
          [tittle]="'Products'"
          [detail]="'Best-selling products'"
        ></app-bar-lateral-chart>
        <app-bar-lateral-chart
          *ngIf="currentView === 'customers' && currentDetail === 'view'"
          [Data]="clienteData"
          [tittle]="'Customers'"
          [detail]="'They always prefer us'"
        ></app-bar-lateral-chart>
        <app-bar-lateral-chart
          *ngIf="currentView === 'payments' && currentDetail === 'view'"
          [Data]="payData"
          [tittle]="'Payments'"
          [detail]="'Pay methods'"
        ></app-bar-lateral-chart>
        <app-bar-lateral-chart
          *ngIf="currentView === 'analysis' && currentDetail === 'view'"
          [Data]="analysisData"
          [tittle]="'Analysis'"
          [detail]="'About our business'"
        ></app-bar-lateral-chart>
        <app-pie-chart
          *ngIf="currentView === 'analysis' && currentDetail === 'view'"
          [Data]="dataPieAnalysis"
          [tittle]="'Best user'"
          [detail]="'About our business'"
        ></app-pie-chart>
      </div>
    </div>
  </div>
</div>
