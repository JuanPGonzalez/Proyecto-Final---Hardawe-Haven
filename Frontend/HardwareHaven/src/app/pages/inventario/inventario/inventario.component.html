<div>
  <header>
    <nav class="navbar navbar-expand-lg">
      <div class="container-fluid">
        <a class="navbar-brand" href="productList">
          <img
            src="assets/images/title_home.png"
            class="img-fluid title_home"
            alt="Hardware Haven"
          />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <div class="d-flex justify-content-center w-100 my-2 my-lg-0">
            <div class="w-100 w-lg-50" style="max-width: 600px">
              <form
                class="d-flex w-100"
                role="search"
                (submit)="onSearch($event)"
              >
                <input
                  class="form-control form-control-dark me-2"
                  type="search"
                  placeholder="Buscar en inventario..."
                  aria-label="Search"
                  [(ngModel)]="auxsearchQuery"
                  name="auxsearchQuery"
                />
                <button class="btn btn-primary-gradient" type="submit">
                  <i class="bi bi-search"></i>
                </button>
              </form>
            </div>
          </div>
          <div class="d-flex align-items-center">
            <app-user-nav [usuario]="usuario"></app-user-nav>
          </div>
        </div>
      </div>
    </nav>
  </header>

  <main class="container-fluid py-4">
    <h1 class="text-center title-inventario mb-4">Gestión de Inventario</h1>

    <div class="d-flex justify-content-center mb-4">
      <button
        class="btn btn-outline-light d-flex align-items-center gap-2"
        (click)="gotodashboard()"
      >
        <i class="bi bi-bar-chart-fill"></i> Ver Estadísticas
      </button>
    </div>

    <div class="mov-mobile">
      <div class="button-container overflow-auto">
        <div class="button-list">
          <button
            class="button-item"
            (click)="loadItems('Usuario')"
            [ngClass]="{ selected: nowType === 'Usuario' }"
          >
            <i class="bi bi-people-fill"></i> Usuarios
          </button>

          <button
            class="button-item"
            (click)="loadItems('Compra')"
            [ngClass]="{ selected: nowType === 'Compra' }"
          >
            <i class="bi bi-cart-fill"></i> Compras
          </button>

          <button
            class="button-item"
            (click)="loadItems('LineaCompra')"
            [ngClass]="{ selected: nowType === 'LineaCompra' }"
          >
            <i class="bi bi-list-check"></i> Líneas Compra
          </button>

          <button
            class="button-item"
            (click)="loadItems('Componente')"
            [ngClass]="{ selected: nowType === 'Componente' }"
          >
            <i class="bi bi-cpu-fill"></i> Componentes
          </button>

          <button
            class="button-item"
            (click)="loadItems('Precio')"
            [ngClass]="{ selected: nowType === 'Precio' }"
          >
            <i class="bi bi-currency-dollar"></i> Precios
          </button>

          <button
            class="button-item"
            (click)="loadItems('Categoria')"
            [ngClass]="{ selected: nowType === 'Categoria' }"
          >
            <i class="bi bi-tags-fill"></i> Categorías
          </button>
        </div>
      </div>

      <div class="float-button">
        <app-plus-button
          [nowType]="nowType"
          (changeEntityEvent)="getplusbuttonChange($event)"
        ></app-plus-button>
      </div>

      <div class="glass-card p-3">
        <ng-container [ngSwitch]="nowType">
          <app-user
            *ngSwitchCase="'Usuario'"
            [searchQuery]="searchQuery"
          ></app-user>
          <app-price
            *ngSwitchCase="'Precio'"
            [searchQuery]="searchQuery"
          ></app-price>
          <app-purchase-line
            *ngSwitchCase="'LineaCompra'"
            [searchQuery]="searchQuery"
          ></app-purchase-line>
          <app-purchase
            *ngSwitchCase="'Compra'"
            [searchQuery]="searchQuery"
          ></app-purchase>
          <app-component
            *ngSwitchCase="'Componente'"
            [searchQuery]="searchQuery"
          ></app-component>
          <app-category
            *ngSwitchCase="'Categoria'"
            [searchQuery]="searchQuery"
          ></app-category>
          <div *ngSwitchCase="'Cargando'" class="text-center py-5">
            <div class="spinner-border text-primary" role="status"></div>
            <p class="mt-2">{{ carga }}</p>
          </div>
          <p *ngSwitchDefault class="text-center">
            Por favor, selecciona un tipo válido.
          </p>
        </ng-container>
      </div>
    </div>
  </main>
</div>
